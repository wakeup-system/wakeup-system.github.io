<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>WakeUp System Signal</title>
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
    </head>
    <body>
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-light" id="mainNav">
            <div class="container px-4 px-lg-5">
                <a class="navbar-brand" href="index.html">WakeUp System</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                    Menu
                    <i class="fas fa-bars"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ms-auto py-4 py-lg-0">
                        <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="index.html">Home</a></li>
                        <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="requirements.html">Requirements</a></li>
                        <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="architecture.html">Architecture</a></li>
                        <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="triggers.html">Triggers</a></li>
                        <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="targets.html">Targets</a></li>
                        <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="evaluation.html">Evaluation</a></li>
                        <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="team.html">Team</a></li>
                        <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="partners.html">Partners</a></li>
                    </ul>
                </div>
            </div>
        </nav>
        <!-- Page Header-->
        <header class="masthead" style="background-image: url('assets/img/about-bg.jpg')">
            <div class="container position-relative px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7">
                        <div class="page-heading">
                            <h1>Architecture</h1>
                            <span class="subheading">The WakeUp System's Design.</span>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <!-- Main Content-->
        <main class="mb-4">
            <div class="container px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <h3>Overview of the Architecture</h3>
                    <img src="assets/Deployment_View_of_Architecture.png" alt="FHIR Hackathon" style="width: 60%" />
                    <div class="col-md-10">
                        <p>
                            There are 3 key components in the architecture, namely the Triggers, Target Devices, WakeUp System with MFC Front-end. The role of the Triggers are to receive sound or visual input from patients and process the input to see if it matches a recognised action configured in its own environment variables. If this is the case, the trigger will send a request to the main WakeUp system, letting it know that such an action has been performed. The role of the WakeUp system, is then to process any incoming requests, both from the triggers and also the MFC Front-end. After processing the request it will either update its database or toggle one of the already registered target devices, depending on the request. The role of the MFC Front-end, which is a desktop application that can be run on Windows, is to allow a non-technical staff member to set the mappings between the triggers and target devices. Finally, the role of the Target Devices are to execute any actions
                            which are prompted by the WakeUp system, such as waking up from a dormant state.
                        </p>
                    </div>
                    <h3>Triggers</h3>
                    <div class="col-md-10"><p>The Matter WakeUp system features seven triggers, each tailored to detect particular movements or sounds from patients and subsequently communicate with the WakeUp system. These triggers include functions such as eyes blinking, audio classification, fall detection (upper body), fall detection (full body), morse vision, morse sound and whisper. For further details on each trigger, please refer to the "Triggers" page.</p></div>
                    <h3>Targets</h3>
                    <div class="col-md-10"><p>The WakeUp system maps trigger signals to target devices for action. It utilizes the Home Assistant API to control Matter devices locally, WakeOnLAN to wake up displays from a low-power state, and a custom Telegram API bot for alerts. For further details on each target, please refer to the "Targets" page.</p></div>
                    <h3>WakeUp System</h3>
                    <div class="col-md-10"><p>The WakeUp system's architecture revolves around a Python Flask server that interacts with Matter devices via the Home Assistant API, alerts mobile devices through the Telegram API, and wakes up displays using the WakeOnLAN Python package. Triggers detect patient actions and send requests to the server, which then maps the appropriate target device for action based on the trigger. This mapping is stored in a SQLAlchemy database. The system also integrates a ZeroMQ Client to ensure triggers have the correct configuration in real-time. Additionally, it provides daily statistics on target device usage and activated signals in JSON format. Scheduled jobs, managed by APScheduler, handle tasks like querying the Home Assistant API for daily device usage and sending periodic Telegram alerts.</p></div>
                    <h3>MFC</h3>
                    <div class="col-md-10"><p>The WakeUp system, developed in C++ with Microsoft Foundation Classes (MFC), ensures compliance with NHS regulations. Its GUI allows medical staff to manage users, devices, and signals, facilitating the addition of new patients, mapping triggers to target devices, and configuring actions. Additionally, staff can export system usage data for analysis, with the option to delete sensitive information for data privacy.</p></div>
                </div>
            </div>
        </main>
        <!-- Footer-->
        <footer class="border-top">
            <div class="container px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7">
                        <ul class="list-inline text-center">
                            <li class="list-inline-item">
                                <a href="https://github.com/orgs/SSE-GROUP5/repositories" target="_blank">
                                    <span class="fa-stack fa-lg">
                                        <i class="fas fa-circle fa-stack-2x"></i>
                                        <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                        </ul>
                        <div class="small text-center text-muted fst-italic">UCL MSc Software Engineering - WakeUp System Signal 2024</div>
                    </div>
                </div>
            </div>
        </footer>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
    </body>
</html>
